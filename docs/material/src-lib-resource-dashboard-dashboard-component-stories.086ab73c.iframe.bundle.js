(self.webpackChunk_techbir_source=self.webpackChunk_techbir_source||[]).push([[664],{"./libs/material/src/lib/api/resource.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Pj:()=>ENTITY_NAME_TOKEN,zc:()=>ResourceService});var tslib_es6=__webpack_require__("./node_modules/.pnpm/tslib@2.6.1/node_modules/tslib/tslib.es6.mjs"),http=__webpack_require__("./node_modules/.pnpm/@angular+common@16.2.0_@angular+core@16.2.0_rxjs@7.8.1/node_modules/@angular/common/fesm2022/http.mjs"),core=__webpack_require__("./node_modules/.pnpm/@angular+core@16.2.0_rxjs@7.8.1_zone.js@0.13.0/node_modules/@angular/core/fesm2022/core.mjs"),ngrx_data=__webpack_require__("./node_modules/.pnpm/@ngrx+data@16.3.0_@angular+common@16.2.0_@angular+core@16.2.0_@ngrx+effects@16.3.0_@ngrx+enti_6kuft62vpebc24xzoho6ledwgq/node_modules/@ngrx/data/fesm2022/ngrx-data.mjs"),debounceTime=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/operators/debounceTime.js"),map=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/operators/map.js"),catchError=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/operators/catchError.js"),of=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/observable/of.js");function splitByUppercase(className){const result=[className[0]],asList=className.split("").slice(1);for(const v of asList)v.charCodeAt(0)<=90&&v.charCodeAt(0)>=65&&result.push("_"),result.push(v);return result.join("")}function uppercaseFirst(name){return[name[0].toUpperCase(),name.slice(1)].join("")}function __className(name){return name.split("-").map((e=>uppercaseFirst(e))).join("")}function __propertyName(name){return function lowercaseFirst(name){return[name[0].toLowerCase(),name.slice(1)].join("")}(name.split("-").map((e=>uppercaseFirst(e))).join(""))}function __constName(name){return splitByUppercase(name).split("_").map((e=>e.toUpperCase())).join("_").split("-").join("_")}function __fileName(name){return splitByUppercase(name).split("_").map((e=>e.toLowerCase())).join("-")}const ENTITY_NAME_TOKEN="ENTITY_NAME_TOKEN";let ResourceService=class ResourceService extends ngrx_data.c8{constructor(entityName,serviceElementsFactory){super(entityName,serviceElementsFactory),this.nameVariants=function names(name){return{className:__className(name),fileName:__fileName(name),propertyName:__propertyName(name),constName:__constName(name)}}(this.entityName),this.allCount$=(0,core.inject)(http.eN).get(`api/meta/count/${this.nameVariants.fileName}`).pipe((0,debounceTime.b)(1e3),(0,map.U)((value=>{const count=value?.count;return null!=count?count:999999})),(0,catchError.K)((()=>(0,of.of)(99999999))))}nid(){return(new Date).getTime()}deleteItem(id){return this.removeOneFromCache(id)}updateItem(item){return this.updateOneInCache(item)}saveItem(item){this.add({...item,id:this.nid()})}queryItem(query){this.clearCache(),this.getWithQuery(function excludeUndefined(obj){return Object.entries(obj).filter((([,value])=>null!=value)).map((([key,value])=>({[key]:value}))).reduce(((p,c)=>({...p,...c})))}(query),{mergeStrategy:ngrx_data.Kp.OverwriteChanges})}static#_=this.ctorParameters=()=>[{type:String,decorators:[{type:core.Inject,args:[ENTITY_NAME_TOKEN]}]},{type:ngrx_data.yV}]};ResourceService=(0,tslib_es6.gn)([(0,core.Injectable)({providedIn:"root",useExisting:!0}),(0,tslib_es6.w6)("design:paramtypes",[String,ngrx_data.yV])],ResourceService)},"./libs/material/src/lib/skeleton/skeleton.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{_:()=>SkeletonComponent});var tslib_es6=__webpack_require__("./node_modules/.pnpm/tslib@2.6.1/node_modules/tslib/tslib.es6.mjs");var skeleton_componentngResource=__webpack_require__("./libs/material/src/lib/skeleton/skeleton.component.scss?ngResource"),skeleton_componentngResource_default=__webpack_require__.n(skeleton_componentngResource),core=__webpack_require__("./node_modules/.pnpm/@angular+core@16.2.0_rxjs@7.8.1_zone.js@0.13.0/node_modules/@angular/core/fesm2022/core.mjs"),common=__webpack_require__("./node_modules/.pnpm/@angular+common@16.2.0_@angular+core@16.2.0_rxjs@7.8.1/node_modules/@angular/common/fesm2022/common.mjs");let SkeletonComponent=class SkeletonComponent{};SkeletonComponent=(0,tslib_es6.gn)([(0,core.Component)({selector:"techbir-skeleton",standalone:!0,imports:[common.CommonModule],template:'<div class="skeleton">...</div>\n',styles:[skeleton_componentngResource_default()]})],SkeletonComponent)},"./libs/material/src/lib/resource/dashboard/dashboard.component.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Heading:()=>Heading,Primary:()=>Primary,default:()=>dashboard_component_stories});var asyncToGenerator=__webpack_require__("./node_modules/.pnpm/@babel+runtime@7.22.6/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),tslib_es6=__webpack_require__("./node_modules/.pnpm/tslib@2.6.1/node_modules/tslib/tslib.es6.mjs");var dashboard_componentngResource=__webpack_require__("./libs/material/src/lib/resource/dashboard/dashboard.component.css?ngResource"),dashboard_componentngResource_default=__webpack_require__.n(dashboard_componentngResource),core=__webpack_require__("./node_modules/.pnpm/@angular+core@16.2.0_rxjs@7.8.1_zone.js@0.13.0/node_modules/@angular/core/fesm2022/core.mjs"),layout=__webpack_require__("./node_modules/.pnpm/@angular+cdk@16.2.10_@angular+common@16.2.0_@angular+core@16.2.0_rxjs@7.8.1/node_modules/@angular/cdk/fesm2022/layout.mjs"),delay=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/operators/delay.js"),map=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/operators/map.js"),grid_list=__webpack_require__("./node_modules/.pnpm/@angular+material@16.2.10_@angular+animations@16.2.0_@angular+cdk@16.2.10_@angular+common@16._vdpb67cjfuaa2o36xq2h7l5hzq/node_modules/@angular/material/fesm2022/grid-list.mjs"),menu=__webpack_require__("./node_modules/.pnpm/@angular+material@16.2.10_@angular+animations@16.2.0_@angular+cdk@16.2.10_@angular+common@16._vdpb67cjfuaa2o36xq2h7l5hzq/node_modules/@angular/material/fesm2022/menu.mjs"),icon=__webpack_require__("./node_modules/.pnpm/@angular+material@16.2.10_@angular+animations@16.2.0_@angular+cdk@16.2.10_@angular+common@16._vdpb67cjfuaa2o36xq2h7l5hzq/node_modules/@angular/material/fesm2022/icon.mjs"),fesm2022_button=__webpack_require__("./node_modules/.pnpm/@angular+material@16.2.10_@angular+animations@16.2.0_@angular+cdk@16.2.10_@angular+common@16._vdpb67cjfuaa2o36xq2h7l5hzq/node_modules/@angular/material/fesm2022/button.mjs"),card=__webpack_require__("./node_modules/.pnpm/@angular+material@16.2.10_@angular+animations@16.2.0_@angular+cdk@16.2.10_@angular+common@16._vdpb67cjfuaa2o36xq2h7l5hzq/node_modules/@angular/material/fesm2022/card.mjs"),resource_service=__webpack_require__("./libs/material/src/lib/api/resource.service.ts"),common=__webpack_require__("./node_modules/.pnpm/@angular+common@16.2.0_@angular+core@16.2.0_rxjs@7.8.1/node_modules/@angular/common/fesm2022/common.mjs"),skeleton_component=__webpack_require__("./libs/material/src/lib/skeleton/skeleton.component.ts");let DashboardComponent=class DashboardComponent{constructor(service,entityName){this.service=service,this.entityName=entityName,this.breakpointObserver=(0,core.inject)(layout.Yg),this.isCountLoading=!0,this.count$=this.service.allCount$.pipe((0,delay.g)(2e3),(0,map.U)((data=>(console.log(data),this.isCountLoading=!1,data)))),this.cards=this.breakpointObserver.observe(layout.u3.Handset).pipe((0,map.U)((({matches})=>matches?[{title:"Card 1",cols:1,rows:1},{title:"Card 2",cols:1,rows:1},{title:"Card 3",cols:1,rows:1},{title:"Card 4",cols:1,rows:1}]:[{title:"Card 1",cols:2,rows:1},{title:"Card 2",cols:1,rows:1},{title:"Card 3",cols:1,rows:2},{title:"Card 4",cols:1,rows:1}])))}static#_=this.ctorParameters=()=>[{type:resource_service.zc},{type:String,decorators:[{type:core.Inject,args:[resource_service.Pj]}]}]};DashboardComponent=(0,tslib_es6.gn)([(0,core.Component)({selector:"techbir-dashboard",template:'<div class="grid-container">\n  <h1 class="mat-h1">Dashboard</h1>\n\n  <p style="position: relative;">\n    <techbir-skeleton *ngIf="isCountLoading"></techbir-skeleton>\n    <span *ngIf="count$ | async as itemCount">\n      There are {{ itemCount }} {{ entityName }}.\n    </span>\n  </p>\n  <mat-grid-list cols="2" rowHeight="350px">\n    <mat-grid-tile\n      *ngFor="let card of cards | async"\n      [colspan]="card.cols"\n      [rowspan]="card.rows"\n    >\n      <mat-card class="dashboard-card">\n        <mat-card-header>\n          <mat-card-title>\n            {{ card.title }}\n            <button\n              mat-icon-button\n              class="more-button"\n              [matMenuTriggerFor]="menu"\n              aria-label="Toggle menu"\n            >\n              <mat-icon>more_vert</mat-icon>\n            </button>\n            <mat-menu #menu="matMenu" xPosition="before">\n              <button mat-menu-item>Expand</button>\n              <button mat-menu-item>Remove</button>\n            </mat-menu>\n          </mat-card-title>\n        </mat-card-header>\n        <mat-card-content class="dashboard-card-content"> </mat-card-content>\n      </mat-card>\n    </mat-grid-tile>\n  </mat-grid-list>\n</div>\n',standalone:!0,imports:[common.CommonModule,grid_list.N6,menu.Tx,icon.Ps,fesm2022_button.ot,card.QW,skeleton_component._],styles:[dashboard_componentngResource_default()]}),(0,tslib_es6.w6)("design:paramtypes",[resource_service.zc,String])],DashboardComponent);var dist=__webpack_require__("./node_modules/.pnpm/@storybook+testing-library@0.2.0/node_modules/@storybook/testing-library/dist/index.mjs"),esm=__webpack_require__("./node_modules/.pnpm/@storybook+jest@0.1.0/node_modules/@storybook/jest/dist/esm/index.js");const dashboard_component_stories={component:DashboardComponent,title:"DashboardComponent"},Primary={args:{}},Heading={args:{},play:(_ref=(0,asyncToGenerator.Z)((function*({canvasElement}){const canvas=(0,dist.uh)(canvasElement);(0,esm.l)(canvas.getByText(/dashboard works!/gi)).toBeTruthy()})),function play(_x){return _ref.apply(this,arguments)})};var _ref},"./libs/material/src/lib/resource/dashboard/dashboard.component.css?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/.pnpm/css-loader@6.8.1_webpack@5.88.2/node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/.pnpm/css-loader@6.8.1_webpack@5.88.2/node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,".grid-container {\n  margin: 20px;\n}\n\n.dashboard-card {\n  position: absolute;\n  top: 15px;\n  left: 15px;\n  right: 15px;\n  bottom: 15px;\n}\n\n.more-button {\n  position: absolute;\n  top: 5px;\n  right: 10px;\n}\n\n.dashboard-card-content {\n  text-align: center;\n}\n",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./libs/material/src/lib/skeleton/skeleton.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/.pnpm/css-loader@6.8.1_webpack@5.88.2/node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/.pnpm/css-loader@6.8.1_webpack@5.88.2/node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"@keyframes skeleton-loading {\n  0% {\n    background-color: hsl(200, 20%, 80%);\n  }\n  100% {\n    background-color: hsl(200, 20%, 95%);\n  }\n}\n.skeleton {\n  display: flex;\n  width: 100%;\n  height: 100%;\n  background-color: white;\n  animation: skeleton-loading 1s linear infinite alternate;\n  border-radius: 10px;\n  color: transparent;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"?5370":()=>{}}]);